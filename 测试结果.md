curl -X POST "http://localhost:9000/api/dau/record?userId=123"

{"date":"2026-02-08","dauCount":null,"isActive":null,"dateRangeStats":null,"message":"用户活跃记录成功"}

curl -X POST "http://localhost:9000/api/dau/batch-record" \
 -H "Content-Type: application/json" \
 -d '[1,2,3,100,500,1000]'

{"date":"2026-02-08","dauCount":null,"isActive":null,"dateRangeStats":null,"message":"批量记录成功: 6/6"}

curl "http://localhost:9000/api/dau/check?userId=123"

{"date":"2026-02-08","dauCount":null,"isActive":true,"dateRangeStats":null,"message":"用户活跃"}

curl "http://localhost:9000/api/dau/count"

{"date":"2026-02-08","dauCount":7,"isActive":null,"dateRangeStats":null,"message":"DAU 查询成功"}

curl "http://localhost:9000/api/dau/range?startDate=2026-02-01&endDate=2026-02-08"

{"date":null,"dauCount":null,"isActive":null,"dateRangeStats":{"2026-02-01":0,"2026-02-02":0,"2026-02-03":0,"2026-02-04":0,"2026-02-05":0,"2026
-02-06":0,"2026-02-07":0,"2026-02-08":7},"message":"DAU 范围查询成功"}

redis查询测试：

KEYS dau:*
1) "dau:20260208"

BITCOUNT dau:20260208
(integer) 7

getbit dau:20260208 123
(integer) 1

memory usage dau:20260208
(integer) 216